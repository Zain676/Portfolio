<%- include('../partials/header', { title }) %>

<main class="flex-grow">
  <section class="max-w-6xl mx-auto px-4 py-24">
    <h1 class="text-4xl font-bold mb-12 text-center">Gallery</h1>

    <% const version = '1719494400'; // use your Cloudinary version (or remove
    it if not used) %>

    <% const galleryData = [
    {
    event: "Tech Expo 2024",
    description:
    "Our university's annual technology exhibition where students showcase their final year projects.",
    images: [1, 2, 3, 4, 5]
    },
    {
    event: "She Rises Workshop",
    description:
    "Empowering female students through leadership and personal development sessions.",
    images: [6, 7, 8, 9, 10]
    },
    {
    event: "Hackathon Spring 2025",
    description: "A 48-hour hackathon encouraging innovation and teamwork.",
    images: [11, 12, 13, 14, 15]
    }
    ]; %>

    <% galleryData.forEach(section => { %>
    <div class="mb-16">
      <h2 class="text-2xl font-bold mb-2 text-indigo-700"><%= section.event
        %></h2>
      <p class="text-gray-600 mb-4"><%= section.description %></p>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <% section.images.forEach(i => { %>
        <img
          src="https://res.cloudinary.com/dka8n305j/image/upload/v1751180181/<%= i %>.jpg"
          class="rounded-lg shadow-md hover:scale-105 transition-transform duration-200"
          alt="<%= section.event %> - Image <%= i %>"
          onclick="openLightbox('<%= i %>')" />
        <% }); %>
      </div>
    </div>
    <% }); %>

  </section>
  <!-- Lightbox Modal -->
  <div id="lightbox"
    class="fixed inset-0 bg-black bg-opacity-80 hidden justify-center items-center z-50">
    <span class="absolute top-4 right-4 text-white text-3xl cursor-pointer"
      onclick="closeLightbox()">&times;</span>
    <img id="lightbox-img"
      class="max-w-4xl max-h-[90vh] rounded-lg shadow-2xl border border-white"
      src alt="Lightbox Image" />
  </div>

</main>

<%- include('../partials/footer') %>

<script>
  function openLightbox(imageId) {
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    lightboxImg.src = `https://res.cloudinary.com/dka8n305j/image/upload/v1751180181/${imageId}.jpg`;
    lightbox.classList.remove('hidden');
  }

  function closeLightbox() {
    document.getElementById('lightbox').classList.add('hidden');
  }
</script>
